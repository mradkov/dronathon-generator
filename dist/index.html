
  <!DOCTYPE html>
<html>
<head>
    <title>HACK - Dronathon generator - Map</title>
    <meta charset="utf-8" />
    <link 
        rel="stylesheet" 
        href="http://cdn.leafletjs.com/leaflet-0.7/leaflet.css"
    />
</head>
<body>

    <div id="map" style="width: 800px; height: 600px"></div>

    <script
        src="http://cdn.leafletjs.com/leaflet-0.7/leaflet.js">
    </script>

    <script
    src="icons.js">
    </script>
    <script>

// SETUP

    var drones = [["{\"id\":\"a623e1c0-e5ff-4704-b2e9-d0c7d1d27c85\",\"type\":0,\"battery\":100,\"loaded\":false,\"speed\":[10,17],\"carryingCapacity\":3000,\"location\":[23.336708092480393,42.76636739076988],\"batteryDrownRateEmpty\":1,\"batteryDrownRateLoaded\":1}",42.76636739076988,23.336708092480393],["{\"id\":\"32b5c88a-9f89-4f3a-ba44-46283e121071\",\"type\":0,\"battery\":100,\"loaded\":false,\"speed\":[10,17],\"carryingCapacity\":3000,\"location\":[23.271144211724938,42.70059609717532],\"batteryDrownRateEmpty\":1,\"batteryDrownRateLoaded\":1}",42.70059609717532,23.271144211724938],["{\"id\":\"adccfd15-6593-4efe-bae0-4481f3d3af59\",\"type\":0,\"battery\":100,\"loaded\":false,\"speed\":[10,17],\"carryingCapacity\":3000,\"location\":[23.327506264729813,42.69118494755678],\"batteryDrownRateEmpty\":1,\"batteryDrownRateLoaded\":1}",42.69118494755678,23.327506264729813],["{\"id\":\"3d6b4f25-65ac-42f6-a096-dbdb7a19c698\",\"type\":0,\"battery\":100,\"loaded\":false,\"speed\":[10,17],\"carryingCapacity\":3000,\"location\":[23.28170055492033,42.719300824826746],\"batteryDrownRateEmpty\":1,\"batteryDrownRateLoaded\":1}",42.719300824826746,23.28170055492033],["{\"id\":\"443bb907-c223-4f0d-ba29-9de2ba8df7cd\",\"type\":0,\"battery\":100,\"loaded\":false,\"speed\":[10,17],\"carryingCapacity\":3000,\"location\":[23.329317406880836,42.75389213718857],\"batteryDrownRateEmpty\":1,\"batteryDrownRateLoaded\":1}",42.75389213718857,23.329317406880836],["{\"id\":\"e5327f3b-6939-4d8e-a59b-4d84eb0eb061\",\"type\":0,\"battery\":100,\"loaded\":false,\"speed\":[10,17],\"carryingCapacity\":3000,\"location\":[23.40246260972922,42.63206629063533],\"batteryDrownRateEmpty\":1,\"batteryDrownRateLoaded\":1}",42.63206629063533,23.40246260972922],["{\"id\":\"8224b353-9c48-45b1-a42e-d7a9f1033b08\",\"type\":0,\"battery\":100,\"loaded\":false,\"speed\":[10,17],\"carryingCapacity\":3000,\"location\":[23.258295487499755,42.73871240193303],\"batteryDrownRateEmpty\":1,\"batteryDrownRateLoaded\":1}",42.73871240193303,23.258295487499755],["{\"id\":\"a38b5fe8-ea6b-42a8-8b75-368c2b4ffb0e\",\"type\":0,\"battery\":100,\"loaded\":false,\"speed\":[10,17],\"carryingCapacity\":3000,\"location\":[23.340616219930634,42.691204922584426],\"batteryDrownRateEmpty\":1,\"batteryDrownRateLoaded\":1}",42.691204922584426,23.340616219930634],["{\"id\":\"35b2e4cd-7625-47f7-81ec-d840116328db\",\"type\":0,\"battery\":100,\"loaded\":false,\"speed\":[10,17],\"carryingCapacity\":3000,\"location\":[23.253557246769894,42.724023247449246],\"batteryDrownRateEmpty\":1,\"batteryDrownRateLoaded\":1}",42.724023247449246,23.253557246769894],["{\"id\":\"a195ef93-fc5d-42e5-9c10-3e8ebec0fe0d\",\"type\":0,\"battery\":100,\"loaded\":false,\"speed\":[10,17],\"carryingCapacity\":3000,\"location\":[23.355016841673333,42.67501242854989],\"batteryDrownRateEmpty\":1,\"batteryDrownRateLoaded\":1}",42.67501242854989,23.355016841673333]];
    var parcels = [["{\"id\":\"0e3be198-75cc-44e7-950b-f8357a0ea9b0\",\"type\":\"letter\",\"weight\":149,\"location\":[23.39591982806235,42.62810339236893],\"status\":\"waiting\"}",42.62810339236893,23.39591982806235],["{\"id\":\"47be2ba9-57fa-4bbe-85b9-9ace9d97d77c\",\"type\":\"letter\",\"weight\":97,\"location\":[23.376696281285575,42.71655161914894],\"status\":\"waiting\"}",42.71655161914894,23.376696281285575],["{\"id\":\"db36d6bd-709b-48bd-80db-ac1a419835c8\",\"type\":\"letter\",\"weight\":198,\"location\":[23.39279600432786,42.676843708211614],\"status\":\"waiting\"}",42.676843708211614,23.39279600432786],["{\"id\":\"fac136e4-b45d-4bf7-b730-674e44b9376a\",\"type\":\"box\",\"weight\":366,\"location\":[23.21483747489397,42.72495014115569],\"status\":\"waiting\"}",42.72495014115569,23.21483747489397],["{\"id\":\"9961f17f-b493-4ac5-9ff1-c6d37a65c75c\",\"type\":\"letter\",\"weight\":64,\"location\":[23.39555427732166,42.65055589012524],\"status\":\"waiting\"}",42.65055589012524,23.39555427732166],["{\"id\":\"df4c0db0-49c8-491b-a7e9-fa1be0dd8289\",\"type\":\"box\",\"weight\":1063,\"location\":[23.395311835748032,42.626331950103015],\"status\":\"waiting\"}",42.626331950103015,23.395311835748032],["{\"id\":\"55793d29-0288-41d7-a714-1916476f6630\",\"type\":\"letter\",\"weight\":52,\"location\":[23.343645645673078,42.64236459901478],\"status\":\"waiting\"}",42.64236459901478,23.343645645673078],["{\"id\":\"df7239f0-c9cf-4aed-8738-80acac299b30\",\"type\":\"box\",\"weight\":2179,\"location\":[23.380469165772883,42.695637074675744],\"status\":\"waiting\"}",42.695637074675744,23.380469165772883],["{\"id\":\"4ced3612-a63b-4635-9e53-f7448674ce04\",\"type\":\"box\",\"weight\":479,\"location\":[23.33403507635019,42.65754836137289],\"status\":\"waiting\"}",42.65754836137289,23.33403507635019],["{\"id\":\"52b06717-98fb-4e6c-8720-64b183be0ffd\",\"type\":\"letter\",\"weight\":51,\"location\":[23.34177312098079,42.64717855680387],\"status\":\"waiting\"}",42.64717855680387,23.34177312098079],["{\"id\":\"a1514a94-39c9-4ace-a354-5f2011527c1b\",\"type\":\"box\",\"weight\":461,\"location\":[23.213777932986645,42.707977363091],\"status\":\"waiting\"}",42.707977363091,23.213777932986645],["{\"id\":\"aed36403-df4f-452d-bd71-0821bd39dcf2\",\"type\":\"letter\",\"weight\":117,\"location\":[23.295981533811624,42.76848155787971],\"status\":\"waiting\"}",42.76848155787971,23.295981533811624],["{\"id\":\"9d48bf67-8bb4-475e-a951-535f67cbe8cd\",\"type\":\"box\",\"weight\":2192,\"location\":[23.28905534576121,42.68752136205439],\"status\":\"waiting\"}",42.68752136205439,23.28905534576121],["{\"id\":\"45fce434-1497-4a2c-b1c6-50f8136886cf\",\"type\":\"box\",\"weight\":2477,\"location\":[23.398368110490427,42.64161564011707],\"status\":\"waiting\"}",42.64161564011707,23.398368110490427],["{\"id\":\"1d73b5df-80d9-4c49-9544-99b7cb5275f6\",\"type\":\"letter\",\"weight\":172,\"location\":[23.268431051273588,42.676535141280326],\"status\":\"waiting\"}",42.676535141280326,23.268431051273588],["{\"id\":\"12839a4f-65ef-46e9-8df7-3d929af5bd77\",\"type\":\"box\",\"weight\":178,\"location\":[23.348511555964205,42.69754099905766],\"status\":\"waiting\"}",42.69754099905766,23.348511555964205],["{\"id\":\"c561179e-b820-4a62-9631-23e9b895a8fb\",\"type\":\"letter\",\"weight\":75,\"location\":[23.331516096721415,42.768965190199076],\"status\":\"waiting\"}",42.768965190199076,23.331516096721415],["{\"id\":\"9aa2c75b-9d69-47bf-8625-cf967f2a1441\",\"type\":\"box\",\"weight\":2373,\"location\":[23.32296051094204,42.639642659806526],\"status\":\"waiting\"}",42.639642659806526,23.32296051094204],["{\"id\":\"b1b9e3b5-2336-407f-9cbd-2cf33acf2382\",\"type\":\"box\",\"weight\":288,\"location\":[23.214804573833995,42.71857791287078],\"status\":\"waiting\"}",42.71857791287078,23.214804573833995],["{\"id\":\"e3b432ca-fd92-4d0e-ae70-46534b99fddd\",\"type\":\"letter\",\"weight\":177,\"location\":[23.345728538788887,42.64010983808475],\"status\":\"waiting\"}",42.64010983808475,23.345728538788887]];
    var stations = [["{\"id\":\"2e9e5bab-3982-4400-b7b7-11b5d05f15c3\",\"type\":0,\"location\":[23.23006067159719,42.6865176753352],\"status\":true}",42.6865176753352,23.23006067159719],["{\"id\":\"e0522d76-c48b-4d4a-b0b9-d825631ab657\",\"type\":0,\"location\":[23.3143863261781,42.75094827467147],\"status\":true}",42.75094827467147,23.3143863261781],["{\"id\":\"8b2df93e-c26a-4324-a094-392a253d2ec5\",\"type\":0,\"location\":[23.301016797292654,42.773845661681605],\"status\":true}",42.773845661681605,23.301016797292654],["{\"id\":\"b456bf46-725d-4b4d-b9a5-ae9bd5cd1934\",\"type\":0,\"location\":[23.32859716570594,42.666093648592074],\"status\":true}",42.666093648592074,23.32859716570594],["{\"id\":\"f4b350b6-2bb0-4dd8-a186-9cef25f540eb\",\"type\":0,\"location\":[23.25927228094372,42.7069557919922],\"status\":true}",42.7069557919922,23.25927228094372],["{\"id\":\"99ff1786-cb02-45e4-aefc-c1d365936e97\",\"type\":0,\"location\":[23.327972616359315,42.66856437707893],\"status\":true}",42.66856437707893,23.327972616359315],["{\"id\":\"5b815ffb-6edf-4ba6-bf8a-227661890062\",\"type\":0,\"location\":[23.36897555301616,42.62353873500948],\"status\":true}",42.62353873500948,23.36897555301616],["{\"id\":\"fc0d3493-c5d4-473e-b6bb-1281391aa994\",\"type\":0,\"location\":[23.39000836530776,42.66587113737811],\"status\":true}",42.66587113737811,23.39000836530776],["{\"id\":\"75ce3a50-95a5-4e33-b560-fa8f830907da\",\"type\":0,\"location\":[23.351651076124124,42.69668589285654],\"status\":true}",42.69668589285654,23.351651076124124],["{\"id\":\"2a0ec563-3659-4fce-ac49-1df94e9fa8b8\",\"type\":0,\"location\":[23.263132661408687,42.68796563897083],\"status\":true}",42.68796563897083,23.263132661408687]];
    var offices = [["Networking Coworking [Dronathon]",42.70571,23.32878]];

//


        var map = L.map('map').setView([42.697434,23.321422], 12);
        mapLink = 
            '<a href="http://hack.bg/">hack.bg</a>';
        L.tileLayer(
            'http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; ' + mapLink + ' - Dronathon generator',
            maxZoom: 18,
            }).addTo(map);

        // draw drones
		for (var i = 0; i < drones.length; i++) {
			marker = new L.marker([drones[i][1],drones[i][2]], {icon: droneIcon})
				.bindPopup(drones[i][0])
				.addTo(map);
        }
        
        // draw parcels
        for (var i = 0; i < parcels.length; i++) {
			marker = new L.marker([parcels[i][1],parcels[i][2]], {icon: parcelIcon})
				.bindPopup(parcels[i][0])
				.addTo(map);
        }
        
        // draw stations
        for (var i = 0; i < stations.length; i++) {
			marker = new L.marker([stations[i][1],stations[i][2]], {icon: chargerIcon})
				.bindPopup(stations[i][0])
				.addTo(map);
        }

        //draw offices
        for (var i = 0; i < offices.length; i++) {
			marker = new L.marker([offices[i][1],offices[i][2]], {icon: officeIcon})
				.bindPopup(offices[i][0])
				.addTo(map);
		}
               
    </script>
</body>
</html>
  